<div class="wizard-container fade-in">

  <div class="wizard-grid">
    <div class="guidance-panel glass-panel">
      <div class="illustration-box">
        <span class="material-icons-round">campaign</span>
      </div>

      <h2>{{ 'POST_REQUEST.TITLE' | translate }}</h2>
      <p>{{ 'POST_REQUEST.SUBTITLE' | translate }}</p>

      <ul class="tips-list">
        <li>
          <span class="material-icons-round check">check_circle</span>
          <span>{{ 'POST_REQUEST.TIP_1' | translate }}</span>
        </li>
        <li>
          <span class="material-icons-round check">check_circle</span>
          <span>{{ 'POST_REQUEST.TIP_2' | translate }}</span>
        </li>
        <li>
          <span class="material-icons-round check">check_circle</span>
          <span>{{ 'POST_REQUEST.TIP_3' | translate }}</span>
        </li>
      </ul>

      <div class="back-link">
        <a routerLink="/requests">
          <span class="material-icons-round">arrow_back</span>
          {{ 'POST_REQUEST.BACK_DASHBOARD' | translate }}
        </a>
      </div>
    </div>

    <div class="form-panel glass-panel">
      <form [formGroup]="requestForm" (ngSubmit)="onSubmit()">

        <div class="form-section">
          <label class="section-label">{{ 'POST_REQUEST.SECTION_CATEGORY' | translate }}</label>
          <div class="category-grid">
            <label class="category-option" *ngFor="let cat of categories">
              <input type="radio" formControlName="category" [value]="cat">
              <div class="category-card">
                <span class="material-icons-round">{{ getCategoryIcon(cat) }}</span>
                <span class="cat-name">{{ 'POST_REQUEST.CAT_' + (cat | uppercase) | translate }}</span>
              </div>
            </label>
          </div>
          <div class="error-msg" *ngIf="requestForm.get('category')?.touched && requestForm.get('category')?.invalid">
            {{ 'POST_REQUEST.ERROR_CATEGORY' | translate }}
          </div>
        </div>

        <div class="form-section">
          <label class="section-label">{{ 'POST_REQUEST.SECTION_DETAILS' | translate }}</label>

          <div class="input-group">
            <span class="input-icon material-icons-round">title</span>
            <input type="text" formControlName="title" [placeholder]="'POST_REQUEST.PLACEHOLDER_TITLE' | translate">
          </div>

          <div class="input-group textarea-group">
            <span class="input-icon material-icons-round">description</span>
            <textarea formControlName="description" rows="5"
              [placeholder]="'POST_REQUEST.PLACEHOLDER_DESC' | translate"></textarea>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" [disabled]="requestForm.invalid || loading" class="btn btn-primary btn-block">
            <span class="material-icons-round" *ngIf="!loading">send</span>
            <span class="material-icons-round spinner" *ngIf="loading">refresh</span>
            {{ (loading ? 'POST_REQUEST.BTN_PUBLISHING' : 'POST_REQUEST.BTN_PUBLISH') | translate }}
          </button>
        </div>

      </form>
    </div>
  </div>

</div>
